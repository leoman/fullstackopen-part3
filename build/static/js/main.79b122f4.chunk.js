(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{19:function(e,t,n){e.exports=n(44)},24:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(17),o=n.n(c),u=(n(24),n(18)),l=n(2),i=n.n(l),s=n(7),m=n(3),f=n(5),p=n.n(f),d="/api/persons",h=function(){return p.a.get(d)},b=function(e){return p.a.post(d,e)},v=function(e){return p.a.delete("".concat(d,"/").concat(e))},w=function(e,t){return p.a.put("".concat(d,"/").concat(e),t)},x=function(e){var t=e.message;return null===t?null:a.a.createElement("div",{className:t.type},t.text)},E=function(e){var t=e.filter,n=e.handleFilter;return a.a.createElement("form",null,a.a.createElement("div",null,"filter shown with: ",a.a.createElement("input",{type:"text",value:t,onChange:function(e){return n(e.target.value)}})))},k=function(e){var t=e.name,n=e.number,r=e.handleNewName,c=e.handleNewNumber,o=e.handleNewPerson;return a.a.createElement("form",null,a.a.createElement("div",null,"name: ",a.a.createElement("input",{type:"text",value:t,onChange:function(e){return r(e.target.value)}})),a.a.createElement("div",null,"number: ",a.a.createElement("input",{type:"text",value:n,onChange:function(e){return c(e.target.value)}})),a.a.createElement("div",null,a.a.createElement("button",{type:"submit",onClick:function(e){return o(e)}},"add")))},y=function(e){var t=e.persons,n=e.handleDeleteNumber;return a.a.createElement("div",null,t.map((function(e){return a.a.createElement("p",{key:e.name},e.name," ",e.number," ",a.a.createElement("button",{onClick:function(){return n(e)}},"delete"))})))},g=(n(43),function(){var e=Object(r.useState)([]),t=Object(m.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)(""),l=Object(m.a)(o,2),f=l[0],p=l[1],d=Object(r.useState)(""),g=Object(m.a)(d,2),j=g[0],O=g[1],N=Object(r.useState)(""),C=Object(m.a)(N,2),S=C[0],D=C[1],L=Object(r.useState)(null),I=Object(m.a)(L,2),P=I[0],A=I[1];Object(r.useEffect)((function(){function e(){return(e=Object(s.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h();case 3:t=e.sent,n=t.data,c(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var B=function(e){return n.reduce((function(t,n){return n.name.toLowerCase()===e.toLowerCase()?n:t}),!1)},F=function(e){A(e),setTimeout((function(){A(null)}),5e3)},J=function(){var e=Object(s.a)(i.a.mark((function e(t){var r,a,o,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),p(""),O(""),r=B(f),a={name:f,number:j},!r){e.next=21;break}if(!window.confirm("".concat(f," is already added to the phonebook, replace the old number with a new one?"))){e.next=19;break}return w(r.id,a),o=n.findIndex((function(e){return e.id===r.id})),n.splice(o,1,a),e.prev=10,e.next=13,c(n);case 13:F({text:"Updated '".concat(f,"'"),type:"notification"}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(10),F({text:e.t0.response.data.error,type:"error"});case 19:e.next=32;break;case 21:return l={name:f,number:j},e.prev=22,e.next=25,b(l);case 25:c([].concat(Object(u.a)(n),[l])),F({text:"Added '".concat(f,"'"),type:"notification"}),e.next=32;break;case 29:e.prev=29,e.t1=e.catch(22),F({text:e.t1.response.data.error,type:"error"});case 32:case"end":return e.stop()}}),e,null,[[10,16],[22,29]])})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(s.a)(i.a.mark((function e(t){var r,a,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.name,a=t.id,!window.confirm("Delete ".concat(r))){e.next=12;break}return e.prev=2,e.next=5,v(a);case 5:o=n.filter((function(e){return e.name!==r})),c(o),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),F({text:"Information of '".concat(r,"' has already been removed from the server"),type:"error"});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),M=S?n.filter((function(e){return e.name.toLowerCase().includes(S.toLowerCase())})):n;return a.a.createElement("div",null,a.a.createElement("h2",null,"Phonebook"),a.a.createElement(x,{message:P}),a.a.createElement(E,{filter:S,handleFilter:function(e){return D(e)}}),a.a.createElement("h3",null,"Add a new"),a.a.createElement(k,{name:f,number:j,handleNewName:function(e){return p(e)},handleNewNumber:function(e){return O(e)},handleNewPerson:J}),a.a.createElement("h3",null,"Numbers"),a.a.createElement(y,{persons:M,handleDeleteNumber:W}))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[19,1,2]]]);
//# sourceMappingURL=main.79b122f4.chunk.js.map